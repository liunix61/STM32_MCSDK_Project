<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32 Motor Control SDK: Inc/hall_speed_pos_fdbk.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
  tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    }
});
</script>
<script type="text/javascript" async="async" src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="styleSheetFile.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="motor_control.png"/></td>
  <td id="projectalign">
   <div id="projectname">STM32 Motor Control SDK<span id="projectnumber">&#160;MCFW-6.1.0</span>
   </div>
   <div id="projectbrief">Software Development Kit to build applications driving PMSM Motors with STM32</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_f93dfce691d792349f1c14ede440e2e6.html">Inc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">hall_speed_pos_fdbk.h File Reference<div class="ingroups"><a class="el" href="group___m_c_s_d_k.html">MCSDK</a> &raquo; <a class="el" href="group___speedn_pos_fdbk.html">Speed &amp; Position Feedback</a> &raquo; <a class="el" href="group__hall__speed__pos__fdbk.html">Hall Speed &amp; Position Feedback</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>This file contains all definitions and functions prototypes for the Hall Speed &amp; Position Feedback component of the Motor Control SDK.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="speed__pos__fdbk_8h.html">speed_pos_fdbk.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_h_a_l_l___handle__t.html">HALL_Handle_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">HALL component parameters definition.  <a href="struct_h_a_l_l___handle__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafcfb477bbe603d9452acfda79498aa9d"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hall__speed__pos__fdbk.html#gafcfb477bbe603d9452acfda79498aa9d">HALL_TIMx_UP_IRQHandler</a> (void *pHandleVoid)</td></tr>
<tr class="memdesc:gafcfb477bbe603d9452acfda79498aa9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Example of private method of the class HALL to implement an MC IRQ function to be called when TIMx update event occurs.  <a href="group__hall__speed__pos__fdbk.html#gafcfb477bbe603d9452acfda79498aa9d">More...</a><br /></td></tr>
<tr class="separator:gafcfb477bbe603d9452acfda79498aa9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13d09d8795011d8b339bba023c9a4678"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hall__speed__pos__fdbk.html#ga13d09d8795011d8b339bba023c9a4678">HALL_TIMx_CC_IRQHandler</a> (void *pHandleVoid)</td></tr>
<tr class="memdesc:ga13d09d8795011d8b339bba023c9a4678"><td class="mdescLeft">&#160;</td><td class="mdescRight">Example of private method of the class HALL to implement an MC IRQ function to be called when TIMx capture event occurs.  <a href="group__hall__speed__pos__fdbk.html#ga13d09d8795011d8b339bba023c9a4678">More...</a><br /></td></tr>
<tr class="separator:ga13d09d8795011d8b339bba023c9a4678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21c7ba2ba2b2771d206b7596ddf6fdd8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hall__speed__pos__fdbk.html#ga21c7ba2ba2b2771d206b7596ddf6fdd8">HALL_Init</a> (<a class="el" href="struct_h_a_l_l___handle__t.html">HALL_Handle_t</a> *pHandle)</td></tr>
<tr class="memdesc:ga21c7ba2ba2b2771d206b7596ddf6fdd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">It initializes the hardware peripherals (TIMx, GPIO and NVIC) required for the speed position sensor management using HALL sensors.  <a href="group__hall__speed__pos__fdbk.html#ga21c7ba2ba2b2771d206b7596ddf6fdd8">More...</a><br /></td></tr>
<tr class="separator:ga21c7ba2ba2b2771d206b7596ddf6fdd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab17bd47f5782ab156299adabb5befb1a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hall__speed__pos__fdbk.html#gab17bd47f5782ab156299adabb5befb1a">HALL_Clear</a> (<a class="el" href="struct_h_a_l_l___handle__t.html">HALL_Handle_t</a> *pHandle)</td></tr>
<tr class="memdesc:gab17bd47f5782ab156299adabb5befb1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear software FIFO where are "pushed" latest speed information This function must be called before starting the motor to initialize the speed measurement process.  <a href="group__hall__speed__pos__fdbk.html#gab17bd47f5782ab156299adabb5befb1a">More...</a><br /></td></tr>
<tr class="separator:gab17bd47f5782ab156299adabb5befb1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac3a147b3f58e5b5bbbde9b2613153f87"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hall__speed__pos__fdbk.html#gac3a147b3f58e5b5bbbde9b2613153f87">HALL_CalcElAngle</a> (<a class="el" href="struct_h_a_l_l___handle__t.html">HALL_Handle_t</a> *pHandle)</td></tr>
<tr class="memdesc:gac3a147b3f58e5b5bbbde9b2613153f87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the rotor electrical angle integrating the last measured instantaneous electrical speed express in dpp.  <a href="group__hall__speed__pos__fdbk.html#gac3a147b3f58e5b5bbbde9b2613153f87">More...</a><br /></td></tr>
<tr class="separator:gac3a147b3f58e5b5bbbde9b2613153f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gada8d69699b57d95c55f8b1d5a67dc2e6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__hall__speed__pos__fdbk.html#gada8d69699b57d95c55f8b1d5a67dc2e6">HALL_CalcAvrgMecSpeedUnit</a> (<a class="el" href="struct_h_a_l_l___handle__t.html">HALL_Handle_t</a> *pHandle, int16_t *hMecSpeedUnit)</td></tr>
<tr class="memdesc:gada8d69699b57d95c55f8b1d5a67dc2e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method must be called - at least - with the same periodicity on which speed control is executed. This method compute and store rotor istantaneous el speed (express in dpp considering the measurement frequency) in order to provide it to HALL_CalcElAngle function and SPD_GetElAngle. Then compute rotor average el speed (express in dpp considering the measurement frequency) based on the buffer filled by IRQ, then - as a consequence - compute, store and return - through parameter hMecSpeedUnit - the rotor average mech speed, expressed in Unit. Then check, store and return the reliability state of the sensor; in this function the reliability is measured with reference to specific parameters of the derived sensor (HALL) through internal variables managed by IRQ.  <a href="group__hall__speed__pos__fdbk.html#gada8d69699b57d95c55f8b1d5a67dc2e6">More...</a><br /></td></tr>
<tr class="separator:gada8d69699b57d95c55f8b1d5a67dc2e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This file contains all definitions and functions prototypes for the Hall Speed &amp; Position Feedback component of the Motor Control SDK. </p>
<dl class="section author"><dt>Author</dt><dd>Motor Control SDK Team, ST Microelectronics </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<h2><center>&copy; Copyright (c) 2022 STMicroelectronics. All rights reserved.</center></h2>
<p >This software component is licensed by ST under Ultimate Liberty license SLA0044, the "License"; You may not use this file except in compliance with the License. You may obtain a copy of the License at: www.st.com/SLA0044 </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
&copy; 2022, ST Microelectronics &#160;<a href="http://st.com">
<img class="footer" src="ST_logo_footer.png" alt="ST Microelectronics"/>
</a>
</small></address>
</body>
</html>
