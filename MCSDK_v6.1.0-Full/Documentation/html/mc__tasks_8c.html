<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32 Motor Control SDK: Src/mc_tasks.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
  tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    }
});
</script>
<script type="text/javascript" async="async" src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="styleSheetFile.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="motor_control.png"/></td>
  <td id="projectalign">
   <div id="projectname">STM32 Motor Control SDK<span id="projectnumber">&#160;MCFW-6.1.0</span>
   </div>
   <div id="projectbrief">Software Development Kit to build applications driving PMSM Motors with STM32</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_413f4e031a85da0d68269c6fd2f76e1c.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">mc_tasks.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file implements tasks definition.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;main.h&quot;</code><br />
<code>#include &quot;<a class="el" href="mc__type_8h.html">mc_type.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mc__math_8h.html">mc_math.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="motorcontrol_8h.html">motorcontrol.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="regular__conversion__manager_8h.html">regular_conversion_manager.h</a>&quot;</code><br />
<code>#include &quot;cmsis_os.h&quot;</code><br />
<code>#include &quot;<a class="el" href="mc__interface_8h.html">mc_interface.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="digital__output_8h.html">digital_output.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pwm__common_8h.html">pwm_common.h</a>&quot;</code><br />
<code>#include &quot;pwm_common_sixstep.h&quot;</code><br />
<code>#include &quot;<a class="el" href="mc__tasks_8h.html">mc_tasks.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="parameters__conversion_8h.html">parameters_conversion.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mcp__config_8h.html">mcp_config.h</a>&quot;</code><br />
<code>#include &quot;dac_ui.h&quot;</code><br />
<code>#include &quot;<a class="el" href="mc__app__hooks_8h.html">mc_app_hooks.h</a>&quot;</code><br />
<code>#include &quot;mc_testenv.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae66a3f6dc67830ff22319890739f87f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#ae66a3f6dc67830ff22319890739f87f9">TSK_MediumFrequencyTaskM1</a> (void)</td></tr>
<tr class="memdesc:ae66a3f6dc67830ff22319890739f87f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes medium frequency periodic Motor Control tasks.  <a href="mc__tasks_8c.html#ae66a3f6dc67830ff22319890739f87f9">More...</a><br /></td></tr>
<tr class="separator:ae66a3f6dc67830ff22319890739f87f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750c357929fa92a48c9d20ecf546bbb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a750c357929fa92a48c9d20ecf546bbb1">FOC_Clear</a> (uint8_t bMotor)</td></tr>
<tr class="memdesc:a750c357929fa92a48c9d20ecf546bbb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">It re-initializes the current and voltage variables. Moreover it clears qd currents PI controllers, voltage sensor and SpeednTorque controller. It must be called before each motor restart. It does not clear speed sensor.  <a href="mc__tasks_8c.html#a750c357929fa92a48c9d20ecf546bbb1">More...</a><br /></td></tr>
<tr class="separator:a750c357929fa92a48c9d20ecf546bbb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8e821f0e34ae7cf1aeb7b359c3e2c91"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#ad8e821f0e34ae7cf1aeb7b359c3e2c91">FOC_InitAdditionalMethods</a> (uint8_t bMotor)</td></tr>
<tr class="memdesc:ad8e821f0e34ae7cf1aeb7b359c3e2c91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this method to initialize additional methods (if any) in START_TO_RUN state.  <a href="mc__tasks_8c.html#ad8e821f0e34ae7cf1aeb7b359c3e2c91">More...</a><br /></td></tr>
<tr class="separator:ad8e821f0e34ae7cf1aeb7b359c3e2c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a865f0c1cbfb74569189c33a02d201c86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a865f0c1cbfb74569189c33a02d201c86">FOC_CalcCurrRef</a> (uint8_t bMotor)</td></tr>
<tr class="memdesc:a865f0c1cbfb74569189c33a02d201c86"><td class="mdescLeft">&#160;</td><td class="mdescRight">It computes the new values of Iqdref (current references on qd reference frame) based on the required electrical torque information provided by oTSC object (internally clocked). If implemented in the derived class it executes flux weakening and/or MTPA algorithm(s). It must be called with the periodicity specified in oTSC parameters.  <a href="mc__tasks_8c.html#a865f0c1cbfb74569189c33a02d201c86">More...</a><br /></td></tr>
<tr class="separator:a865f0c1cbfb74569189c33a02d201c86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2811b5a405740d425e04341d3e15d53"><td class="memItemLeft" align="right" valign="top"><a id="aa2811b5a405740d425e04341d3e15d53" name="aa2811b5a405740d425e04341d3e15d53"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>TSK_MF_StopProcessing</b> (MCI_Handle_t *pHandle, uint8_t motor)</td></tr>
<tr class="memdesc:aa2811b5a405740d425e04341d3e15d53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs stop process and update the state machine.This function shall be called only during medium frequency task. <br /></td></tr>
<tr class="separator:aa2811b5a405740d425e04341d3e15d53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a8eb648cd90456e6e74949c576b6e53"><td class="memItemLeft" align="right" valign="top">MCI_Handle_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a6a8eb648cd90456e6e74949c576b6e53">GetMCI</a> (uint8_t bMotor)</td></tr>
<tr class="memdesc:a6a8eb648cd90456e6e74949c576b6e53"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the reference of the MCInterface relative to the selected drive.  <a href="mc__tasks_8c.html#a6a8eb648cd90456e6e74949c576b6e53">More...</a><br /></td></tr>
<tr class="separator:a6a8eb648cd90456e6e74949c576b6e53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a993f6925a3096b39d3ae9b758a3da052"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a993f6925a3096b39d3ae9b758a3da052">SixStep_Clear</a> (uint8_t bMotor)</td></tr>
<tr class="memdesc:a993f6925a3096b39d3ae9b758a3da052"><td class="mdescLeft">&#160;</td><td class="mdescRight">It re-initializes the current and voltage variables. Moreover it clears qd currents PI controllers, voltage sensor and SpeednTorque controller. It must be called before each motor restart. It does not clear speed sensor.  <a href="mc__tasks_8c.html#a993f6925a3096b39d3ae9b758a3da052">More...</a><br /></td></tr>
<tr class="separator:a993f6925a3096b39d3ae9b758a3da052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1bf4432c582bd5757a2a91a1cd3a552"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#ab1bf4432c582bd5757a2a91a1cd3a552">SixStep_InitAdditionalMethods</a> (uint8_t bMotor)</td></tr>
<tr class="memdesc:ab1bf4432c582bd5757a2a91a1cd3a552"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this method to initialize additional methods (if any) in START_TO_RUN state.  <a href="mc__tasks_8c.html#ab1bf4432c582bd5757a2a91a1cd3a552">More...</a><br /></td></tr>
<tr class="separator:ab1bf4432c582bd5757a2a91a1cd3a552"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a177e150229f6244f129a281456a62df9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a177e150229f6244f129a281456a62df9">SixStep_CalcSpeedRef</a> (uint8_t bMotor)</td></tr>
<tr class="memdesc:a177e150229f6244f129a281456a62df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">It computes the new values of Iqdref (current references on qd reference frame) based on the required electrical torque information provided by oTSC object (internally clocked). If implemented in the derived class it executes flux weakening and/or MTPA algorithm(s). It must be called with the periodicity specified in oTSC parameters.  <a href="mc__tasks_8c.html#a177e150229f6244f129a281456a62df9">More...</a><br /></td></tr>
<tr class="separator:a177e150229f6244f129a281456a62df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951d307b49d9562aa7b6941ba5911ba8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a951d307b49d9562aa7b6941ba5911ba8">TSK_SetChargeBootCapDelayM1</a> (uint16_t hTickCount)</td></tr>
<tr class="memdesc:a951d307b49d9562aa7b6941ba5911ba8"><td class="mdescLeft">&#160;</td><td class="mdescRight">It set a counter intended to be used for counting the delay required for drivers boot capacitors charging of motor 1.  <a href="mc__tasks_8c.html#a951d307b49d9562aa7b6941ba5911ba8">More...</a><br /></td></tr>
<tr class="separator:a951d307b49d9562aa7b6941ba5911ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25af8a515ca2d8b1432842bd7389920c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a25af8a515ca2d8b1432842bd7389920c">TSK_ChargeBootCapDelayHasElapsedM1</a> (void)</td></tr>
<tr class="memdesc:a25af8a515ca2d8b1432842bd7389920c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this function to know whether the time required to charge boot capacitors of motor 1 has elapsed.  <a href="mc__tasks_8c.html#a25af8a515ca2d8b1432842bd7389920c">More...</a><br /></td></tr>
<tr class="separator:a25af8a515ca2d8b1432842bd7389920c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52256d7564b5c40cab1f4662993182e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a52256d7564b5c40cab1f4662993182e7">TSK_SetStopPermanencyTimeM1</a> (uint16_t hTickCount)</td></tr>
<tr class="memdesc:a52256d7564b5c40cab1f4662993182e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">It set a counter intended to be used for counting the permanency time in STOP state of motor 1.  <a href="mc__tasks_8c.html#a52256d7564b5c40cab1f4662993182e7">More...</a><br /></td></tr>
<tr class="separator:a52256d7564b5c40cab1f4662993182e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef1eca77eaca1c79de8e07ad0747fa98"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#aef1eca77eaca1c79de8e07ad0747fa98">TSK_StopPermanencyTimeHasElapsedM1</a> (void)</td></tr>
<tr class="memdesc:aef1eca77eaca1c79de8e07ad0747fa98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this function to know whether the permanency time in STOP state of motor 1 has elapsed.  <a href="mc__tasks_8c.html#aef1eca77eaca1c79de8e07ad0747fa98">More...</a><br /></td></tr>
<tr class="separator:aef1eca77eaca1c79de8e07ad0747fa98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a38df09e9886223637a149039130d27"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a2a38df09e9886223637a149039130d27">TSK_SafetyTask_PWMOFF</a> (uint8_t bMotor)</td></tr>
<tr class="memdesc:a2a38df09e9886223637a149039130d27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Safety task implementation if MC.ON_OVER_VOLTAGE == TURN_OFF_PWM.  <a href="mc__tasks_8c.html#a2a38df09e9886223637a149039130d27">More...</a><br /></td></tr>
<tr class="separator:a2a38df09e9886223637a149039130d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47dfeb9c8c9bcf6ff9c334f19a577689"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a47dfeb9c8c9bcf6ff9c334f19a577689">TSK_SafetyTask_RBRK</a> (uint8_t bMotor)</td></tr>
<tr class="memdesc:a47dfeb9c8c9bcf6ff9c334f19a577689"><td class="mdescLeft">&#160;</td><td class="mdescRight">Safety task implementation if MC.ON_OVER_VOLTAGE == TURN_ON_R_BRAKE.  <a href="mc__tasks_8c.html#a47dfeb9c8c9bcf6ff9c334f19a577689">More...</a><br /></td></tr>
<tr class="separator:a47dfeb9c8c9bcf6ff9c334f19a577689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f8a82965caa948cb475b57d65b720ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a2f8a82965caa948cb475b57d65b720ea">TSK_SafetyTask_LSON</a> (uint8_t bMotor)</td></tr>
<tr class="memdesc:a2f8a82965caa948cb475b57d65b720ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Safety task implementation if MC.ON_OVER_VOLTAGE == TURN_ON_LOW_SIDES.  <a href="mc__tasks_8c.html#a2f8a82965caa948cb475b57d65b720ea">More...</a><br /></td></tr>
<tr class="separator:a2f8a82965caa948cb475b57d65b720ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a226b090624906f7dc4da5e9bb216ae5f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a226b090624906f7dc4da5e9bb216ae5f">TSK_MediumFrequencyTaskM2</a> (void)</td></tr>
<tr class="memdesc:a226b090624906f7dc4da5e9bb216ae5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes medium frequency periodic Motor Control tasks.  <a href="mc__tasks_8c.html#a226b090624906f7dc4da5e9bb216ae5f">More...</a><br /></td></tr>
<tr class="separator:a226b090624906f7dc4da5e9bb216ae5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2430e445ef0348d14f03079dccf1865a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a2430e445ef0348d14f03079dccf1865a">TSK_SetChargeBootCapDelayM2</a> (uint16_t hTickCount)</td></tr>
<tr class="memdesc:a2430e445ef0348d14f03079dccf1865a"><td class="mdescLeft">&#160;</td><td class="mdescRight">It set a counter intended to be used for counting the delay required for drivers boot capacitors charging of motor 2.  <a href="mc__tasks_8c.html#a2430e445ef0348d14f03079dccf1865a">More...</a><br /></td></tr>
<tr class="separator:a2430e445ef0348d14f03079dccf1865a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaa2f50881a839e25c9297e162807848"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#adaa2f50881a839e25c9297e162807848">TSK_ChargeBootCapDelayHasElapsedM2</a> (void)</td></tr>
<tr class="memdesc:adaa2f50881a839e25c9297e162807848"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this function to know whether the time required to charge boot capacitors of motor 2 has elapsed.  <a href="mc__tasks_8c.html#adaa2f50881a839e25c9297e162807848">More...</a><br /></td></tr>
<tr class="separator:adaa2f50881a839e25c9297e162807848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da37337b2ba0e7d1ce62030f19bd33c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a9da37337b2ba0e7d1ce62030f19bd33c">TSK_SetStopPermanencyTimeM2</a> (uint16_t hTickCount)</td></tr>
<tr class="memdesc:a9da37337b2ba0e7d1ce62030f19bd33c"><td class="mdescLeft">&#160;</td><td class="mdescRight">It set a counter intended to be used for counting the permanency time in STOP state of motor 2.  <a href="mc__tasks_8c.html#a9da37337b2ba0e7d1ce62030f19bd33c">More...</a><br /></td></tr>
<tr class="separator:a9da37337b2ba0e7d1ce62030f19bd33c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec3e827e32d13dc2bab1178c0516a795"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#aec3e827e32d13dc2bab1178c0516a795">TSK_StopPermanencyTimeHasElapsedM2</a> (void)</td></tr>
<tr class="memdesc:aec3e827e32d13dc2bab1178c0516a795"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use this function to know whether the permanency time in STOP state of motor 2 has elapsed.  <a href="mc__tasks_8c.html#aec3e827e32d13dc2bab1178c0516a795">More...</a><br /></td></tr>
<tr class="separator:aec3e827e32d13dc2bab1178c0516a795"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77077de5b57409eddfc31e5ba198e8d"><td class="memItemLeft" align="right" valign="top"><a id="af77077de5b57409eddfc31e5ba198e8d" name="af77077de5b57409eddfc31e5ba198e8d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>PFC_Scheduler</b> (void)</td></tr>
<tr class="memdesc:af77077de5b57409eddfc31e5ba198e8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the PFC Task. <br /></td></tr>
<tr class="separator:af77077de5b57409eddfc31e5ba198e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bfb12291cb99622881ea2d58a346256"><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mc__tasks_8c.html#a1bfb12291cb99622881ea2d58a346256">MCboot</a> (MCI_Handle_t *pMCIList[NBR_OF_MOTORS])</td></tr>
<tr class="memdesc:a1bfb12291cb99622881ea2d58a346256"><td class="mdescLeft">&#160;</td><td class="mdescRight">It initializes the whole MC core according to user defined parameters.  <a href="mc__tasks_8c.html#a1bfb12291cb99622881ea2d58a346256">More...</a><br /></td></tr>
<tr class="separator:a1bfb12291cb99622881ea2d58a346256"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc5efb2c13a7f84132cad2eea33744cc"><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_c_tasks.html#gafc5efb2c13a7f84132cad2eea33744cc">MC_RunMotorControlTasks</a> (void)</td></tr>
<tr class="memdesc:gafc5efb2c13a7f84132cad2eea33744cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runs all the Tasks of the Motor Control cockpit.  <a href="group___m_c_tasks.html#gafc5efb2c13a7f84132cad2eea33744cc">More...</a><br /></td></tr>
<tr class="separator:gafc5efb2c13a7f84132cad2eea33744cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5bfb7d24f2ad1246a4fa06c024f96957"><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_c_tasks.html#ga5bfb7d24f2ad1246a4fa06c024f96957">MC_Scheduler</a> (void)</td></tr>
<tr class="memdesc:ga5bfb7d24f2ad1246a4fa06c024f96957"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the Medium Frequency Task functions for each drive instance.  <a href="group___m_c_tasks.html#ga5bfb7d24f2ad1246a4fa06c024f96957">More...</a><br /></td></tr>
<tr class="separator:ga5bfb7d24f2ad1246a4fa06c024f96957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c1ddefd0981ca101cfa98acb72aacc4"><td class="memItemLeft" align="right" valign="top">__weak uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_c_tasks.html#ga8c1ddefd0981ca101cfa98acb72aacc4">TSK_HighFrequencyTask</a> (void)</td></tr>
<tr class="memdesc:ga8c1ddefd0981ca101cfa98acb72aacc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the Motor Control duties that require a high frequency rate and a precise timing.  <a href="group___m_c_tasks.html#ga8c1ddefd0981ca101cfa98acb72aacc4">More...</a><br /></td></tr>
<tr class="separator:ga8c1ddefd0981ca101cfa98acb72aacc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70dcc80ce2a677f112e8e19b15ec9c5a"><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_c_tasks.html#ga70dcc80ce2a677f112e8e19b15ec9c5a">TSK_SafetyTask</a> (void)</td></tr>
<tr class="memdesc:ga70dcc80ce2a677f112e8e19b15ec9c5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes safety checks (e.g. bus voltage and temperature) for all drive instances.  <a href="group___m_c_tasks.html#ga70dcc80ce2a677f112e8e19b15ec9c5a">More...</a><br /></td></tr>
<tr class="separator:ga70dcc80ce2a677f112e8e19b15ec9c5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0beda6e1849093d2bbb0bb08b34fa737"><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_c_tasks.html#ga0beda6e1849093d2bbb0bb08b34fa737">TSK_DualDriveFIFOUpdate</a> (uint8_t Motor)</td></tr>
<tr class="memdesc:ga0beda6e1849093d2bbb0bb08b34fa737"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserves FOC execution on ADC ISR half a PWM period in advance.  <a href="group___m_c_tasks.html#ga0beda6e1849093d2bbb0bb08b34fa737">More...</a><br /></td></tr>
<tr class="separator:ga0beda6e1849093d2bbb0bb08b34fa737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1fdad1bcdfa2ba677a20235f893ca5c"><td class="memItemLeft" align="right" valign="top">__weak void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___m_c_tasks.html#gae1fdad1bcdfa2ba677a20235f893ca5c">TSK_HardwareFaultTask</a> (void)</td></tr>
<tr class="memdesc:gae1fdad1bcdfa2ba677a20235f893ca5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Puts the Motor Control subsystem in in safety conditions on a Hard Fault.  <a href="group___m_c_tasks.html#gae1fdad1bcdfa2ba677a20235f893ca5c">More...</a><br /></td></tr>
<tr class="separator:gae1fdad1bcdfa2ba677a20235f893ca5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga55b0971a2d52bbf9328598320b1bd4ba"><td class="memItemLeft" align="right" valign="top">
__weak void&#160;</td><td class="memItemRight" valign="bottom"><b>mc_lock_pins</b> (void)</td></tr>
<tr class="memdesc:ga55b0971a2d52bbf9328598320b1bd4ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks GPIO pins used for Motor Control to prevent accidental reconfiguration. <br /></td></tr>
<tr class="separator:ga55b0971a2d52bbf9328598320b1bd4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This file implements tasks definition. </p>
<dl class="section author"><dt>Author</dt><dd>Motor Control SDK Team, ST Microelectronics </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<h2><center>&copy; Copyright (c) 2022 STMicroelectronics. All rights reserved.</center></h2>
<p >This software component is licensed by ST under Ultimate Liberty license SLA0044, the "License"; You may not use this file except in compliance with the License. You may obtain a copy of the License at: www.st.com/SLA0044 </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a865f0c1cbfb74569189c33a02d201c86" name="a865f0c1cbfb74569189c33a02d201c86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a865f0c1cbfb74569189c33a02d201c86">&#9670;&#160;</a></span>FOC_CalcCurrRef()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void FOC_CalcCurrRef </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bMotor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It computes the new values of Iqdref (current references on qd reference frame) based on the required electrical torque information provided by oTSC object (internally clocked). If implemented in the derived class it executes flux weakening and/or MTPA algorithm(s). It must be called with the periodicity specified in oTSC parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bMotor</td><td>related motor it can be M1 or M2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a750c357929fa92a48c9d20ecf546bbb1" name="a750c357929fa92a48c9d20ecf546bbb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a750c357929fa92a48c9d20ecf546bbb1">&#9670;&#160;</a></span>FOC_Clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void FOC_Clear </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bMotor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It re-initializes the current and voltage variables. Moreover it clears qd currents PI controllers, voltage sensor and SpeednTorque controller. It must be called before each motor restart. It does not clear speed sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bMotor</td><td>related motor it can be M1 or M2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad8e821f0e34ae7cf1aeb7b359c3e2c91" name="ad8e821f0e34ae7cf1aeb7b359c3e2c91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8e821f0e34ae7cf1aeb7b359c3e2c91">&#9670;&#160;</a></span>FOC_InitAdditionalMethods()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void FOC_InitAdditionalMethods </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bMotor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this method to initialize additional methods (if any) in START_TO_RUN state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bMotor</td><td>related motor it can be M1 or M2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6a8eb648cd90456e6e74949c576b6e53" name="a6a8eb648cd90456e6e74949c576b6e53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a8eb648cd90456e6e74949c576b6e53">&#9670;&#160;</a></span>GetMCI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak MCI_Handle_t * GetMCI </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bMotor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the reference of the MCInterface relative to the selected drive. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bMotor</td><td>Motor reference number defined <a class="el" href="">here </a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">MCI_Handle_t</td><td>* Reference to MCInterface relative to the selected drive. Note: it can be MC_NULL if MCInterface of selected drive is not allocated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1bfb12291cb99622881ea2d58a346256" name="a1bfb12291cb99622881ea2d58a346256"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bfb12291cb99622881ea2d58a346256">&#9670;&#160;</a></span>MCboot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void MCboot </td>
          <td>(</td>
          <td class="paramtype">MCI_Handle_t *&#160;</td>
          <td class="paramname"><em>pMCIList</em>[NBR_OF_MOTORS]</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It initializes the whole MC core according to user defined parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pMCIList</td><td>pointer to the vector of MCInterface objects that will be created and initialized. The vector must have length equal to the number of motor drives. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a177e150229f6244f129a281456a62df9" name="a177e150229f6244f129a281456a62df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a177e150229f6244f129a281456a62df9">&#9670;&#160;</a></span>SixStep_CalcSpeedRef()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void SixStep_CalcSpeedRef </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bMotor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It computes the new values of Iqdref (current references on qd reference frame) based on the required electrical torque information provided by oTSC object (internally clocked). If implemented in the derived class it executes flux weakening and/or MTPA algorithm(s). It must be called with the periodicity specified in oTSC parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bMotor</td><td>related motor it can be M1 or M2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a993f6925a3096b39d3ae9b758a3da052" name="a993f6925a3096b39d3ae9b758a3da052"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a993f6925a3096b39d3ae9b758a3da052">&#9670;&#160;</a></span>SixStep_Clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void SixStep_Clear </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bMotor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It re-initializes the current and voltage variables. Moreover it clears qd currents PI controllers, voltage sensor and SpeednTorque controller. It must be called before each motor restart. It does not clear speed sensor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bMotor</td><td>related motor it can be M1 or M2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab1bf4432c582bd5757a2a91a1cd3a552" name="ab1bf4432c582bd5757a2a91a1cd3a552"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1bf4432c582bd5757a2a91a1cd3a552">&#9670;&#160;</a></span>SixStep_InitAdditionalMethods()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void SixStep_InitAdditionalMethods </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bMotor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this method to initialize additional methods (if any) in START_TO_RUN state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bMotor</td><td>related motor it can be M1 or M2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a25af8a515ca2d8b1432842bd7389920c" name="a25af8a515ca2d8b1432842bd7389920c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25af8a515ca2d8b1432842bd7389920c">&#9670;&#160;</a></span>TSK_ChargeBootCapDelayHasElapsedM1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak bool TSK_ChargeBootCapDelayHasElapsedM1 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this function to know whether the time required to charge boot capacitors of motor 1 has elapsed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if time has elapsed, false otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adaa2f50881a839e25c9297e162807848" name="adaa2f50881a839e25c9297e162807848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaa2f50881a839e25c9297e162807848">&#9670;&#160;</a></span>TSK_ChargeBootCapDelayHasElapsedM2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak bool TSK_ChargeBootCapDelayHasElapsedM2 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this function to know whether the time required to charge boot capacitors of motor 2 has elapsed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if time has elapsed, false otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae66a3f6dc67830ff22319890739f87f9" name="ae66a3f6dc67830ff22319890739f87f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66a3f6dc67830ff22319890739f87f9">&#9670;&#160;</a></span>TSK_MediumFrequencyTaskM1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void TSK_MediumFrequencyTaskM1 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes medium frequency periodic Motor Control tasks. </p>
<p >This function performs some of the control duties on Motor 1 according to the present state of its state machine. In particular, duties requiring a periodic execution at a medium frequency rate (such as the speed controller for instance) are executed here. </p>

</div>
</div>
<a id="a226b090624906f7dc4da5e9bb216ae5f" name="a226b090624906f7dc4da5e9bb216ae5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a226b090624906f7dc4da5e9bb216ae5f">&#9670;&#160;</a></span>TSK_MediumFrequencyTaskM2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void TSK_MediumFrequencyTaskM2 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes medium frequency periodic Motor Control tasks. </p>
<p >This function performs some of the control duties on Motor 2 according to the present state of its state machine. In particular, duties requiring a periodic execution at a medium frequency rate (such as the speed controller for instance) are executed here. </p>

</div>
</div>
<a id="a2f8a82965caa948cb475b57d65b720ea" name="a2f8a82965caa948cb475b57d65b720ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f8a82965caa948cb475b57d65b720ea">&#9670;&#160;</a></span>TSK_SafetyTask_LSON()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void TSK_SafetyTask_LSON </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bMotor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Safety task implementation if MC.ON_OVER_VOLTAGE == TURN_ON_LOW_SIDES. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">motor</td><td>Motor reference number defined <a class="el" href="">here </a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2a38df09e9886223637a149039130d27" name="a2a38df09e9886223637a149039130d27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a38df09e9886223637a149039130d27">&#9670;&#160;</a></span>TSK_SafetyTask_PWMOFF()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void TSK_SafetyTask_PWMOFF </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bMotor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Safety task implementation if MC.ON_OVER_VOLTAGE == TURN_OFF_PWM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bMotor</td><td>Motor reference number defined <a class="el" href="">here </a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a47dfeb9c8c9bcf6ff9c334f19a577689" name="a47dfeb9c8c9bcf6ff9c334f19a577689"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47dfeb9c8c9bcf6ff9c334f19a577689">&#9670;&#160;</a></span>TSK_SafetyTask_RBRK()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void TSK_SafetyTask_RBRK </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>bMotor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Safety task implementation if MC.ON_OVER_VOLTAGE == TURN_ON_R_BRAKE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">motor</td><td>Motor reference number defined <a class="el" href="">here </a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a951d307b49d9562aa7b6941ba5911ba8" name="a951d307b49d9562aa7b6941ba5911ba8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a951d307b49d9562aa7b6941ba5911ba8">&#9670;&#160;</a></span>TSK_SetChargeBootCapDelayM1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void TSK_SetChargeBootCapDelayM1 </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>hTickCount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It set a counter intended to be used for counting the delay required for drivers boot capacitors charging of motor 1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hTickCount</td><td>number of ticks to be counted </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2430e445ef0348d14f03079dccf1865a" name="a2430e445ef0348d14f03079dccf1865a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2430e445ef0348d14f03079dccf1865a">&#9670;&#160;</a></span>TSK_SetChargeBootCapDelayM2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void TSK_SetChargeBootCapDelayM2 </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>hTickCount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It set a counter intended to be used for counting the delay required for drivers boot capacitors charging of motor 2. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hTickCount</td><td>number of ticks to be counted </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a52256d7564b5c40cab1f4662993182e7" name="a52256d7564b5c40cab1f4662993182e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52256d7564b5c40cab1f4662993182e7">&#9670;&#160;</a></span>TSK_SetStopPermanencyTimeM1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void TSK_SetStopPermanencyTimeM1 </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>hTickCount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It set a counter intended to be used for counting the permanency time in STOP state of motor 1. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hTickCount</td><td>number of ticks to be counted </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9da37337b2ba0e7d1ce62030f19bd33c" name="a9da37337b2ba0e7d1ce62030f19bd33c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9da37337b2ba0e7d1ce62030f19bd33c">&#9670;&#160;</a></span>TSK_SetStopPermanencyTimeM2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void TSK_SetStopPermanencyTimeM2 </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>hTickCount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It set a counter intended to be used for counting the permanency time in STOP state of motor 2. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hTickCount</td><td>number of ticks to be counted </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">void</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aef1eca77eaca1c79de8e07ad0747fa98" name="aef1eca77eaca1c79de8e07ad0747fa98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef1eca77eaca1c79de8e07ad0747fa98">&#9670;&#160;</a></span>TSK_StopPermanencyTimeHasElapsedM1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak bool TSK_StopPermanencyTimeHasElapsedM1 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this function to know whether the permanency time in STOP state of motor 1 has elapsed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if time is elapsed, false otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aec3e827e32d13dc2bab1178c0516a795" name="aec3e827e32d13dc2bab1178c0516a795"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec3e827e32d13dc2bab1178c0516a795">&#9670;&#160;</a></span>TSK_StopPermanencyTimeHasElapsedM2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak bool TSK_StopPermanencyTimeHasElapsedM2 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Use this function to know whether the permanency time in STOP state of motor 2 has elapsed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">bool</td><td>true if time is elapsed, false otherwise </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
&copy; 2022, ST Microelectronics &#160;<a href="http://st.com">
<img class="footer" src="ST_logo_footer.png" alt="ST Microelectronics"/>
</a>
</small></address>
</body>
</html>
