<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32 Motor Control SDK: Inrush Current Limiter</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
  tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    }
});
</script>
<script type="text/javascript" async="async" src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="styleSheetFile.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="motor_control.png"/></td>
  <td id="projectalign">
   <div id="projectname">STM32 Motor Control SDK<span id="projectnumber">&#160;MCFW-6.1.0</span>
   </div>
   <div id="projectbrief">Software Development Kit to build applications driving PMSM Motors with STM32</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Inrush Current Limiter<div class="ingroups"><a class="el" href="group___m_c_s_d_k.html">MCSDK</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Inrush Current Limiter component of the Motor Control SDK.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:inrush__current__limiter_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inrush__current__limiter_8h.html">inrush_current_limiter.h</a></td></tr>
<tr class="memdesc:inrush__current__limiter_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">This file contains all definitions and functions prototypes for the Inrush Current Limiter component featuring the Motor Control SDK. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:inrush__current__limiter_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="inrush__current__limiter_8c.html">inrush_current_limiter.c</a></td></tr>
<tr class="memdesc:inrush__current__limiter_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This file provides firmware functions implementing the Inrush Current Limiter feature of the Motor Control SDK. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_i_c_l___handle__t.html">ICL_Handle_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_i_c_l___handle__t.html" title="ICL_Handle_t is used to handle an instance of the InrushCurrentLimiter component.">ICL_Handle_t</a> is used to handle an instance of the InrushCurrentLimiter component.  <a href="struct_i_c_l___handle__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga05f3bf8e2a634c0db14b7b2e6cd496e0"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_l.html#ga05f3bf8e2a634c0db14b7b2e6cd496e0">ICL_State_t</a> { <br />
&#160;&#160;<a class="el" href="group___i_c_l.html#gga05f3bf8e2a634c0db14b7b2e6cd496e0aa3ea393d8760a0d1afe66adffbc566c4">ICL_IDLE</a>
, <a class="el" href="group___i_c_l.html#gga05f3bf8e2a634c0db14b7b2e6cd496e0ad2f8c8e5d12ba380e7bc839106b3f662">ICL_ACTIVATION</a>
, <a class="el" href="group___i_c_l.html#gga05f3bf8e2a634c0db14b7b2e6cd496e0a860029751361f87e50186c1874967f48">ICL_ACTIVE</a>
, <a class="el" href="group___i_c_l.html#gga05f3bf8e2a634c0db14b7b2e6cd496e0a6f6db6f8a21cd6ac01d2a5f9a493ad94">ICL_DEACTIVATION</a>
, <br />
&#160;&#160;<a class="el" href="group___i_c_l.html#gga05f3bf8e2a634c0db14b7b2e6cd496e0a920e16528eacf9bd6ae4a25a337022f1">ICL_INACTIVE</a>
<br />
 }</td></tr>
<tr class="memdesc:ga05f3bf8e2a634c0db14b7b2e6cd496e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICL_State_t defines all the existing ICL states of the state machine.  <a href="group___i_c_l.html#ga05f3bf8e2a634c0db14b7b2e6cd496e0">More...</a><br /></td></tr>
<tr class="separator:ga05f3bf8e2a634c0db14b7b2e6cd496e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gae3dca12dd404f8c8aacc6c9d205e54d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_l.html#gae3dca12dd404f8c8aacc6c9d205e54d2">ICL_Init</a> (<a class="el" href="struct_i_c_l___handle__t.html">ICL_Handle_t</a> *pHandle, <a class="el" href="struct_bus_voltage_sensor___handle__t.html">BusVoltageSensor_Handle_t</a> *pVBS, <a class="el" href="struct_d_o_u_t__handle__t.html">DOUT_handle_t</a> *pDOUT)</td></tr>
<tr class="memdesc:gae3dca12dd404f8c8aacc6c9d205e54d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes all the needed ICL component variables. It shall be called only once during Motor Control initialization.  <a href="group___i_c_l.html#gae3dca12dd404f8c8aacc6c9d205e54d2">More...</a><br /></td></tr>
<tr class="separator:gae3dca12dd404f8c8aacc6c9d205e54d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5cb4fd18a821947dc2a8c75e0e5a06c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___i_c_l.html#ga05f3bf8e2a634c0db14b7b2e6cd496e0">ICL_State_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_l.html#gac5cb4fd18a821947dc2a8c75e0e5a06c">ICL_Exec</a> (<a class="el" href="struct_i_c_l___handle__t.html">ICL_Handle_t</a> *pHandle)</td></tr>
<tr class="memdesc:gac5cb4fd18a821947dc2a8c75e0e5a06c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the inrush current limiter state machine and shall be called during background task.  <a href="group___i_c_l.html#gac5cb4fd18a821947dc2a8c75e0e5a06c">More...</a><br /></td></tr>
<tr class="separator:gac5cb4fd18a821947dc2a8c75e0e5a06c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade5150149eacd6513e2d31d7226bca6b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___i_c_l.html#ga05f3bf8e2a634c0db14b7b2e6cd496e0">ICL_State_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i_c_l.html#gade5150149eacd6513e2d31d7226bca6b">ICL_GetState</a> (<a class="el" href="struct_i_c_l___handle__t.html">ICL_Handle_t</a> *pHandle)</td></tr>
<tr class="memdesc:gade5150149eacd6513e2d31d7226bca6b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current state of the ICL state machine.  <a href="group___i_c_l.html#gade5150149eacd6513e2d31d7226bca6b">More...</a><br /></td></tr>
<tr class="separator:gade5150149eacd6513e2d31d7226bca6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Inrush Current Limiter component of the Motor Control SDK. </p>
<p >Inrush current limiter acts on the NTC bypass relay according to the DC bus level in order to limit the current when charging DC bulk capacitor. In order to work properly, it needs to point on the Vbus and digital output handlers to measure the DC bus and control the NTC bypass relay. Inrush current limiter has its own state machine described below:</p>
<div class="image">
<object type="image/svg+xml" data="ICL_FSM.svg" style="pointer-events: none;"></object>
</div>
     <h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga05f3bf8e2a634c0db14b7b2e6cd496e0" name="ga05f3bf8e2a634c0db14b7b2e6cd496e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga05f3bf8e2a634c0db14b7b2e6cd496e0">&#9670;&#160;</a></span>ICL_State_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___i_c_l.html#ga05f3bf8e2a634c0db14b7b2e6cd496e0">ICL_State_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ICL_State_t defines all the existing ICL states of the state machine. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga05f3bf8e2a634c0db14b7b2e6cd496e0aa3ea393d8760a0d1afe66adffbc566c4" name="gga05f3bf8e2a634c0db14b7b2e6cd496e0aa3ea393d8760a0d1afe66adffbc566c4"></a>ICL_IDLE&#160;</td><td class="fielddoc"><p >stable state </p>
</td></tr>
<tr><td class="fieldname"><a id="gga05f3bf8e2a634c0db14b7b2e6cd496e0ad2f8c8e5d12ba380e7bc839106b3f662" name="gga05f3bf8e2a634c0db14b7b2e6cd496e0ad2f8c8e5d12ba380e7bc839106b3f662"></a>ICL_ACTIVATION&#160;</td><td class="fielddoc"><p >transition state </p>
</td></tr>
<tr><td class="fieldname"><a id="gga05f3bf8e2a634c0db14b7b2e6cd496e0a860029751361f87e50186c1874967f48" name="gga05f3bf8e2a634c0db14b7b2e6cd496e0a860029751361f87e50186c1874967f48"></a>ICL_ACTIVE&#160;</td><td class="fielddoc"><p >stable state </p>
</td></tr>
<tr><td class="fieldname"><a id="gga05f3bf8e2a634c0db14b7b2e6cd496e0a6f6db6f8a21cd6ac01d2a5f9a493ad94" name="gga05f3bf8e2a634c0db14b7b2e6cd496e0a6f6db6f8a21cd6ac01d2a5f9a493ad94"></a>ICL_DEACTIVATION&#160;</td><td class="fielddoc"><p >transition state </p>
</td></tr>
<tr><td class="fieldname"><a id="gga05f3bf8e2a634c0db14b7b2e6cd496e0a920e16528eacf9bd6ae4a25a337022f1" name="gga05f3bf8e2a634c0db14b7b2e6cd496e0a920e16528eacf9bd6ae4a25a337022f1"></a>ICL_INACTIVE&#160;</td><td class="fielddoc"><p >stable state </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac5cb4fd18a821947dc2a8c75e0e5a06c" name="gac5cb4fd18a821947dc2a8c75e0e5a06c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac5cb4fd18a821947dc2a8c75e0e5a06c">&#9670;&#160;</a></span>ICL_Exec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak <a class="el" href="group___i_c_l.html#ga05f3bf8e2a634c0db14b7b2e6cd496e0">ICL_State_t</a> ICL_Exec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_c_l___handle__t.html">ICL_Handle_t</a> *&#160;</td>
          <td class="paramname"><em>pHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Executes the inrush current limiter state machine and shall be called during background task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pHandle</td><td>handler of the current instance of the ICL component </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ICLState_t</td><td>returns the current ICL state machine </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gade5150149eacd6513e2d31d7226bca6b" name="gade5150149eacd6513e2d31d7226bca6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gade5150149eacd6513e2d31d7226bca6b">&#9670;&#160;</a></span>ICL_GetState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak <a class="el" href="group___i_c_l.html#ga05f3bf8e2a634c0db14b7b2e6cd496e0">ICL_State_t</a> ICL_GetState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_c_l___handle__t.html">ICL_Handle_t</a> *&#160;</td>
          <td class="paramname"><em>pHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current state of the ICL state machine. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pHandle</td><td>handler of the current instance of the ICL component </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ICLState_t</td><td>returns the current ICL state machine </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae3dca12dd404f8c8aacc6c9d205e54d2" name="gae3dca12dd404f8c8aacc6c9d205e54d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae3dca12dd404f8c8aacc6c9d205e54d2">&#9670;&#160;</a></span>ICL_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__weak void ICL_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_i_c_l___handle__t.html">ICL_Handle_t</a> *&#160;</td>
          <td class="paramname"><em>pHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_bus_voltage_sensor___handle__t.html">BusVoltageSensor_Handle_t</a> *&#160;</td>
          <td class="paramname"><em>pVBS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_d_o_u_t__handle__t.html">DOUT_handle_t</a> *&#160;</td>
          <td class="paramname"><em>pDOUT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes all the needed ICL component variables. It shall be called only once during Motor Control initialization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pHandle</td><td>handler of the current instance of the ICL component </td></tr>
    <tr><td class="paramname">pVBS</td><td>the bus voltage sensor used by the ICL. </td></tr>
    <tr><td class="paramname">pDOUT</td><td>the digital output used by the ICL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
&copy; 2022, ST Microelectronics &#160;<a href="http://st.com">
<img class="footer" src="ST_logo_footer.png" alt="ST Microelectronics"/>
</a>
</small></address>
</body>
</html>
