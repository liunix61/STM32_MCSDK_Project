<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32 Motor Control SDK: Regular Conversion Manager</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
  tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    }
});
</script>
<script type="text/javascript" async="async" src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="styleSheetFile.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="motor_control.png"/></td>
  <td id="projectalign">
   <div id="projectname">STM32 Motor Control SDK<span id="projectnumber">&#160;MCFW-6.1.0</span>
   </div>
   <div id="projectbrief">Software Development Kit to build applications driving PMSM Motors with STM32</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Regular Conversion Manager<div class="ingroups"><a class="el" href="group___m_c_s_d_k.html">MCSDK</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Regular Conversion Manager component of the Motor Control SDK.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_reg_conv__t.html">RegConv_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="struct_reg_conv__t.html" title="RegConv_t contains all the parameters required to execute a regular conversion.">RegConv_t</a> contains all the parameters required to execute a regular conversion.  <a href="struct_reg_conv__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga7459acd19739de01da3e2c4701ff90ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_c_m.html#ga7459acd19739de01da3e2c4701ff90ec">RCM_MAX_CONV</a>&#160;&#160;&#160;4U  6U</td></tr>
<tr class="memdesc:ga7459acd19739de01da3e2c4701ff90ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of regular conversion allowed By default.  <a href="group___r_c_m.html#ga7459acd19739de01da3e2c4701ff90ec">More...</a><br /></td></tr>
<tr class="separator:ga7459acd19739de01da3e2c4701ff90ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga2fa092027080c3fcf8f91f68464802bd"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_c_m.html#ga2fa092027080c3fcf8f91f68464802bd">RCM_UserConvState_t</a> { <a class="el" href="group___r_c_m.html#gga2fa092027080c3fcf8f91f68464802bda20f747fc3e88a4b6c5dd5fa1332fcaa2">RCM_USERCONV_IDLE</a>
, <a class="el" href="group___r_c_m.html#gga2fa092027080c3fcf8f91f68464802bdae86546adf3aa4a5b6ab4680b2079fa4c">RCM_USERCONV_REQUESTED</a>
, <a class="el" href="group___r_c_m.html#gga2fa092027080c3fcf8f91f68464802bdab77ad8b81dced7c7308d84d02d015c17">RCM_USERCONV_EOC</a>
 }</td></tr>
<tr class="memdesc:ga2fa092027080c3fcf8f91f68464802bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Conversion states.  <a href="group___r_c_m.html#ga2fa092027080c3fcf8f91f68464802bd">More...</a><br /></td></tr>
<tr class="separator:ga2fa092027080c3fcf8f91f68464802bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c46670b6ca5b312e3ce2158122b4484"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_c_m.html#ga9c46670b6ca5b312e3ce2158122b4484">RCM_status_t</a> </td></tr>
<tr class="memdesc:ga9c46670b6ca5b312e3ce2158122b4484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Document as stated in template.h.  <a href="group___r_c_m.html#ga9c46670b6ca5b312e3ce2158122b4484">More...</a><br /></td></tr>
<tr class="separator:ga9c46670b6ca5b312e3ce2158122b4484"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga0ee265e3ad2603bdb7579c5e2ec05cab"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_c_m.html#ga0ee265e3ad2603bdb7579c5e2ec05cab">RCM_RegisterRegConv</a> (<a class="el" href="struct_reg_conv__t.html">RegConv_t</a> *regConv)</td></tr>
<tr class="memdesc:ga0ee265e3ad2603bdb7579c5e2ec05cab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a regular conversion.  <a href="group___r_c_m.html#ga0ee265e3ad2603bdb7579c5e2ec05cab">More...</a><br /></td></tr>
<tr class="separator:ga0ee265e3ad2603bdb7579c5e2ec05cab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63e98fe7cafeafe3dedfd1fc49cc3984"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_c_m.html#ga63e98fe7cafeafe3dedfd1fc49cc3984">RCM_RegisterRegConv_WithCB</a> (<a class="el" href="struct_reg_conv__t.html">RegConv_t</a> *regConv, RCM_exec_cb_t fctCB, void *data)</td></tr>
<tr class="memdesc:ga63e98fe7cafeafe3dedfd1fc49cc3984"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers a regular conversion, and attaches a callback.  <a href="group___r_c_m.html#ga63e98fe7cafeafe3dedfd1fc49cc3984">More...</a><br /></td></tr>
<tr class="separator:ga63e98fe7cafeafe3dedfd1fc49cc3984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ae7b0037ad030c981736526067a7145"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_c_m.html#ga6ae7b0037ad030c981736526067a7145">RCM_RequestUserConv</a> (uint8_t handle)</td></tr>
<tr class="memdesc:ga6ae7b0037ad030c981736526067a7145"><td class="mdescLeft">&#160;</td><td class="mdescRight">Schedules a regular conversion for execution.  <a href="group___r_c_m.html#ga6ae7b0037ad030c981736526067a7145">More...</a><br /></td></tr>
<tr class="separator:ga6ae7b0037ad030c981736526067a7145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9cb2272b793889b2dbb5eaeb2d370807"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_c_m.html#ga9cb2272b793889b2dbb5eaeb2d370807">RCM_GetUserConv</a> (void)</td></tr>
<tr class="memdesc:ga9cb2272b793889b2dbb5eaeb2d370807"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the last user-defined regular conversion that was executed.  <a href="group___r_c_m.html#ga9cb2272b793889b2dbb5eaeb2d370807">More...</a><br /></td></tr>
<tr class="separator:ga9cb2272b793889b2dbb5eaeb2d370807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga978f9a9f28f45703930ed172c122c481"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___r_c_m.html#ga2fa092027080c3fcf8f91f68464802bd">RCM_UserConvState_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_c_m.html#ga978f9a9f28f45703930ed172c122c481">RCM_GetUserConvState</a> (void)</td></tr>
<tr class="memdesc:ga978f9a9f28f45703930ed172c122c481"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the status of the last requested regular conversion.  <a href="group___r_c_m.html#ga978f9a9f28f45703930ed172c122c481">More...</a><br /></td></tr>
<tr class="separator:ga978f9a9f28f45703930ed172c122c481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga517023799a0b13330a5bd37623d90bee"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___r_c_m.html#ga517023799a0b13330a5bd37623d90bee">RCM_PauseRegularConv</a> (uint8_t handle)</td></tr>
<tr class="memdesc:ga517023799a0b13330a5bd37623d90bee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Un-schedules a regular conversion.  <a href="group___r_c_m.html#ga517023799a0b13330a5bd37623d90bee">More...</a><br /></td></tr>
<tr class="separator:ga517023799a0b13330a5bd37623d90bee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >Regular Conversion Manager component of the Motor Control SDK. </p>
<p >MotorControl SDK makes an extensive usage of ADCs. Some conversions are timing critical like current reading, and some have less constraints. If an ADC offers both Injected and Regular, channels, critical conversions will be systematically done on Injected channels, because they interrupt any ongoing regular conversion so as to be executed without delay. Others conversions, mainly Bus voltage, and Temperature sensing are performed with regular channels. If users wants to perform ADC conversions with an ADC already used by MC SDK, they must use regular conversions. It is forbidden to use Injected channel on an ADC that is already in use for current reading. As usera and MC-SDK may share ADC regular scheduler, this component intents to manage all the regular conversions.</p>
<p >If users wants to execute their own conversion, they first have to register it through the <a class="el" href="group___r_c_m.html#ga63e98fe7cafeafe3dedfd1fc49cc3984" title="Registers a regular conversion, and attaches a callback.">RCM_RegisterRegConv_WithCB()</a> or <a class="el" href="group___r_c_m.html#ga0ee265e3ad2603bdb7579c5e2ec05cab" title="Registers a regular conversion.">RCM_RegisterRegConv()</a> APIs. Multiple conversions can be registered, but only one can be scheduled at a time .</p>
<p >A requested user regular conversion will be executed by the medium frequency task after the MC-SDK regular safety conversions: Bus voltage and Temperature.</p>
<p >If a callback is registered, particular care must be taken with the code executed inside the CB. The callback code is executed under Medium frequency task IRQ context (Systick).</p>
<p >If the Users do not register a callback, they must poll the RCM state machine to know if a conversion is ready to be read, scheduled, or free to be scheduled. This is performed through the <a class="el" href="group___r_c_m.html#ga978f9a9f28f45703930ed172c122c481" title="Returns the status of the last requested regular conversion.">RCM_GetUserConvState()</a> API.</p>
<p >If the state is <a class="el" href="group___r_c_m.html#gga2fa092027080c3fcf8f91f68464802bda20f747fc3e88a4b6c5dd5fa1332fcaa2" title="No conversion currently scheduled.">RCM_USERCONV_IDLE</a>, a conversion is ready to be scheduled. if a conversion is already scheduled, the returned value is <a class="el" href="group___r_c_m.html#gga2fa092027080c3fcf8f91f68464802bdae86546adf3aa4a5b6ab4680b2079fa4c" title="A conversion is scheduled for execution.">RCM_USERCONV_REQUESTED</a>. if a conversion is ready to be read, the returned value is <a class="el" href="group___r_c_m.html#gga2fa092027080c3fcf8f91f68464802bdab77ad8b81dced7c7308d84d02d015c17" title="A conversion has completed and the value is ready.">RCM_USERCONV_EOC</a>. In <a class="el" href="group___r_c_m.html#gga2fa092027080c3fcf8f91f68464802bdab77ad8b81dced7c7308d84d02d015c17" title="A conversion has completed and the value is ready.">RCM_USERCONV_EOC</a> state, a call to RCM_GetUserConv will consume the value, and set the state machine back to <a class="el" href="group___r_c_m.html#gga2fa092027080c3fcf8f91f68464802bda20f747fc3e88a4b6c5dd5fa1332fcaa2" title="No conversion currently scheduled.">RCM_USERCONV_IDLE</a> state. It implies that a second call without new conversion performed, will send back 0xffff which is an error value meaning that the data is not available. If a conversion request is executed, but the previous conversion has not been completed, nor consumed, the request is discarded and the <a class="el" href="group___r_c_m.html#ga6ae7b0037ad030c981736526067a7145" title="Schedules a regular conversion for execution.">RCM_RequestUserConv()</a> return false.</p>
<p >If a callback is registered, the data read is sent back to the callback parameters, and therefor consumed. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga7459acd19739de01da3e2c4701ff90ec" name="ga7459acd19739de01da3e2c4701ff90ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7459acd19739de01da3e2c4701ff90ec">&#9670;&#160;</a></span>RCM_MAX_CONV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RCM_MAX_CONV&#160;&#160;&#160;4U  6U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of regular conversion allowed By default. </p>
<p >In single drive configuration, it is defined to 4. 2 of them are consumed by Bus voltage and temperature reading. This leaves 2 handles available for user conversions</p>
<p >In dual drives configuration, it is defined to 6. 2 of them are consumed by Bus voltage and temperature reading for each motor. This leaves 2 handles available for user conversion.</p>
<p >Defined to 4 here.</p>
<p >Defined to 6 here. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga9c46670b6ca5b312e3ce2158122b4484" name="ga9c46670b6ca5b312e3ce2158122b4484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c46670b6ca5b312e3ce2158122b4484">&#9670;&#160;</a></span>RCM_status_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___r_c_m.html#ga9c46670b6ca5b312e3ce2158122b4484">RCM_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Document as stated in template.h. </p>
<p >... </p>

</div>
</div>
<a id="ga2fa092027080c3fcf8f91f68464802bd" name="ga2fa092027080c3fcf8f91f68464802bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2fa092027080c3fcf8f91f68464802bd">&#9670;&#160;</a></span>RCM_UserConvState_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___r_c_m.html#ga2fa092027080c3fcf8f91f68464802bd">RCM_UserConvState_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Conversion states. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga2fa092027080c3fcf8f91f68464802bda20f747fc3e88a4b6c5dd5fa1332fcaa2" name="gga2fa092027080c3fcf8f91f68464802bda20f747fc3e88a4b6c5dd5fa1332fcaa2"></a>RCM_USERCONV_IDLE&#160;</td><td class="fielddoc"><p >No conversion currently scheduled. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2fa092027080c3fcf8f91f68464802bdae86546adf3aa4a5b6ab4680b2079fa4c" name="gga2fa092027080c3fcf8f91f68464802bdae86546adf3aa4a5b6ab4680b2079fa4c"></a>RCM_USERCONV_REQUESTED&#160;</td><td class="fielddoc"><p >A conversion is scheduled for execution. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga2fa092027080c3fcf8f91f68464802bdab77ad8b81dced7c7308d84d02d015c17" name="gga2fa092027080c3fcf8f91f68464802bdab77ad8b81dced7c7308d84d02d015c17"></a>RCM_USERCONV_EOC&#160;</td><td class="fielddoc"><p >A conversion has completed and the value is ready. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga9cb2272b793889b2dbb5eaeb2d370807" name="ga9cb2272b793889b2dbb5eaeb2d370807"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9cb2272b793889b2dbb5eaeb2d370807">&#9670;&#160;</a></span>RCM_GetUserConv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t RCM_GetUserConv </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the last user-defined regular conversion that was executed. </p>
<p >This function returns a valid result if the state returned by RCM_GetUserConvState is <a class="el" href="group___r_c_m.html#gga2fa092027080c3fcf8f91f68464802bdab77ad8b81dced7c7308d84d02d015c17" title="A conversion has completed and the value is ready.">RCM_USERCONV_EOC</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">uint16_t</td><td>The converted value or 0xFFFF in case of conversion error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga978f9a9f28f45703930ed172c122c481" name="ga978f9a9f28f45703930ed172c122c481"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga978f9a9f28f45703930ed172c122c481">&#9670;&#160;</a></span>RCM_GetUserConvState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___r_c_m.html#ga2fa092027080c3fcf8f91f68464802bd">RCM_UserConvState_t</a> RCM_GetUserConvState </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the status of the last requested regular conversion. </p>
<p >It can be one of the following values:</p>
<ul>
<li>UDRC_STATE_IDLE no regular conversion request pending.</li>
<li>UDRC_STATE_REQUESTED regular conversion has been requested and not completed.</li>
<li>UDRC_STATE_EOC regular conversion has been completed but not readed from the user.</li>
</ul>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>state of the last user-defined regular conversion. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga517023799a0b13330a5bd37623d90bee" name="ga517023799a0b13330a5bd37623d90bee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga517023799a0b13330a5bd37623d90bee">&#9670;&#160;</a></span>RCM_PauseRegularConv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RCM_PauseRegularConv </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Un-schedules a regular conversion. </p>
<p >This function does not poll ADC read and is meant to be used when ADCs do not support injected channels.</p>
<p >In such configurations, once a regular conversion has been executed once, It is continuously scheduled in HF task after current reading.</p>
<p >This function remove the handle from the scheduling.</p>
<dl class="section note"><dt>Note</dt><dd>Note that even though, in such configurations, regular conversions are continuously scheduled after having been requested once, the results of subsequent conversions are not made available unless the users invoke <a class="el" href="group___r_c_m.html#ga6ae7b0037ad030c981736526067a7145" title="Schedules a regular conversion for execution.">RCM_RequestUserConv()</a> again. <br  />
 </dd></dl>

</div>
</div>
<a id="ga0ee265e3ad2603bdb7579c5e2ec05cab" name="ga0ee265e3ad2603bdb7579c5e2ec05cab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ee265e3ad2603bdb7579c5e2ec05cab">&#9670;&#160;</a></span>RCM_RegisterRegConv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t RCM_RegisterRegConv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_reg_conv__t.html">RegConv_t</a> *&#160;</td>
          <td class="paramname"><em>regConv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a regular conversion. </p>
<p >This function registers a regular ADC conversion that can be later scheduled for execution. It returns a handle that uniquely identifies the conversion. This handle is used in the other API of the Regular Converion Manager to reference the registered conversion.</p>
<p >A regular conversion is defined by an ADC + ADC channel pair. If a registration already exists for the requested ADC + ADC channel pair, the same handle will be reused.</p>
<p >The registration may fail if there is no space left for additional conversions. The maximum number of regular conversion that can be registered is defined by <a class="el" href="group___r_c_m.html#ga7459acd19739de01da3e2c4701ff90ec" title="Number of regular conversion allowed By default.">RCM_MAX_CONV</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Users who do not want a callback to be executed at the end of the conversion, should use <a class="el" href="group___r_c_m.html#ga0ee265e3ad2603bdb7579c5e2ec05cab" title="Registers a regular conversion.">RCM_RegisterRegConv()</a> instead.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regConv</td><td>Pointer to the regular conversion parameters. Contains ADC, Channel and sampling time to be used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>handle of the registered conversion or 255 if the registration failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga63e98fe7cafeafe3dedfd1fc49cc3984" name="ga63e98fe7cafeafe3dedfd1fc49cc3984"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga63e98fe7cafeafe3dedfd1fc49cc3984">&#9670;&#160;</a></span>RCM_RegisterRegConv_WithCB()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t RCM_RegisterRegConv_WithCB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_reg_conv__t.html">RegConv_t</a> *&#160;</td>
          <td class="paramname"><em>regConv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">RCM_exec_cb_t&#160;</td>
          <td class="paramname"><em>fctCB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers a regular conversion, and attaches a callback. </p>
<p >This function registers a regular ADC conversion that can be later scheduled for execution. It returns a handle that uniquely identifies the conversion. This handle is used in the other API of the Regular Converion Manager to reference the registered conversion.</p>
<p >A regular conversion is defined by an ADC + ADC channel pair. If a registration already exists for the requested ADC + ADC channel pair, the same handle will be reused.</p>
<p >The regular conversion is registered along with a callback that is executed each time the conversion has completed. The callback is invoked with two parameters:</p>
<ul>
<li>the handle of the regular conversion</li>
<li>a data pointer, supplied by uthe users at registration time.</li>
</ul>
<p >The registration may fail if there is no space left for additional conversions. The maximum number of regular conversion that can be registered is defined by <a class="el" href="group___r_c_m.html#ga7459acd19739de01da3e2c4701ff90ec" title="Number of regular conversion allowed By default.">RCM_MAX_CONV</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Users who do not want a callback to be executed at the end of the conversion, should use <a class="el" href="group___r_c_m.html#ga0ee265e3ad2603bdb7579c5e2ec05cab" title="Registers a regular conversion.">RCM_RegisterRegConv()</a> instead.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">regConv</td><td>Pointer to the regular conversion parameters. Contains ADC, Channel and sampling time to be used.</td></tr>
    <tr><td class="paramname">fctCB</td><td>Function called once the regular conversion is executed.</td></tr>
    <tr><td class="paramname">data</td><td>Used to save a user context. this parameter will be send back by the fctCB function. <b>Note:</b> This parameter can be NULL if not used.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">the</td><td>handle of the registered conversion or 255 if the registration failed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6ae7b0037ad030c981736526067a7145" name="ga6ae7b0037ad030c981736526067a7145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6ae7b0037ad030c981736526067a7145">&#9670;&#160;</a></span>RCM_RequestUserConv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RCM_RequestUserConv </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Schedules a regular conversion for execution. </p>
<p >This function requests the execution of the user-defined regular conversion identified by <code>handle</code>. All user defined conversion requests must be performed inside routines with the same priority level. If a previous regular conversion request is pending this function has no effect, for this reason is better to call <a class="el" href="group___r_c_m.html#ga978f9a9f28f45703930ed172c122c481" title="Returns the status of the last requested regular conversion.">RCM_GetUserConvState()</a> and check if the state is <a class="el" href="group___r_c_m.html#gga2fa092027080c3fcf8f91f68464802bda20f747fc3e88a4b6c5dd5fa1332fcaa2" title="No conversion currently scheduled.">RCM_USERCONV_IDLE</a> before calling <a class="el" href="group___r_c_m.html#ga6ae7b0037ad030c981736526067a7145" title="Schedules a regular conversion for execution.">RCM_RequestUserConv()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>used for the user conversion.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the regular conversion could be scheduled and false otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
&copy; 2022, ST Microelectronics &#160;<a href="http://st.com">
<img class="footer" src="ST_logo_footer.png" alt="ST Microelectronics"/>
</a>
</small></address>
</body>
</html>
