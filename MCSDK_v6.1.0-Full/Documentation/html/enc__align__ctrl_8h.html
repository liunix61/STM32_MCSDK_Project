<!-- HTML header for doxygen 1.9.5-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>STM32 Motor Control SDK: MCSDK/MCLib/Any/Inc/enc_align_ctrl.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
  tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    }
});
</script>
<script type="text/javascript" async="async" src="./mathjax/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="styleSheetFile.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="motor_control.png"/></td>
  <td id="projectalign">
   <div id="projectname">STM32 Motor Control SDK<span id="projectnumber">&#160;MCFW-6.1.0</span>
   </div>
   <div id="projectbrief">Software Development Kit to build applications driving PMSM Motors with STM32</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5ebbea1114bd7627641b9c8b89cd5b2b.html">MCSDK</a></li><li class="navelem"><a class="el" href="dir_79d4adb0498bf053227c39dbd6578f5f.html">MCLib</a></li><li class="navelem"><a class="el" href="dir_80bc119df44e2dd44e2c73626e7f1f08.html">Any</a></li><li class="navelem"><a class="el" href="dir_9fea3fb0dfcc6f370077182e8a006c5b.html">Inc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">enc_align_ctrl.h File Reference<div class="ingroups"><a class="el" href="group___m_c_s_d_k.html">MCSDK</a> &raquo; <a class="el" href="group___enc_align_ctrl.html">Encoder Alignment Controller</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>This file contains all definitions and functions prototypes for the Encoder Alignment Control component of the Motor Control SDK.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="mc__type_8h.html">mc_type.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="speed__torq__ctrl_8h.html">speed_torq_ctrl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="virtual__speed__sensor_8h.html">virtual_speed_sensor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="encoder__speed__pos__fdbk_8h.html">encoder_speed_pos_fdbk.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_enc_align___handle__t.html">EncAlign_Handle_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure is used to handle an instance of EncAlignCtrl component.  <a href="struct_enc_align___handle__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4323a626f17c81bcafb9a3d15a8f2b4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___enc_align_ctrl.html#ga4323a626f17c81bcafb9a3d15a8f2b4f">EAC_Init</a> (<a class="el" href="struct_enc_align___handle__t.html">EncAlign_Handle_t</a> *pHandle, <a class="el" href="struct_speedn_torq_ctrl___handle__t.html">SpeednTorqCtrl_Handle_t</a> *pSTC, <a class="el" href="struct_virtual_speed_sensor___handle__t.html">VirtualSpeedSensor_Handle_t</a> *pVSS, <a class="el" href="struct_e_n_c_o_d_e_r___handle__t.html">ENCODER_Handle_t</a> *pENC)</td></tr>
<tr class="memdesc:ga4323a626f17c81bcafb9a3d15a8f2b4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">It initializes the handle.  <a href="group___enc_align_ctrl.html#ga4323a626f17c81bcafb9a3d15a8f2b4f">More...</a><br /></td></tr>
<tr class="separator:ga4323a626f17c81bcafb9a3d15a8f2b4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1365f95fbdcc6bff57dc481be14f588"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___enc_align_ctrl.html#gad1365f95fbdcc6bff57dc481be14f588">EAC_StartAlignment</a> (<a class="el" href="struct_enc_align___handle__t.html">EncAlign_Handle_t</a> *pHandle)</td></tr>
<tr class="memdesc:gad1365f95fbdcc6bff57dc481be14f588"><td class="mdescLeft">&#160;</td><td class="mdescRight">It starts the encoder alignment procedure. It configures the VSS (Virtual Speed Sensor) with the required angle and sets the STC (Speed and Torque Controller) to execute the required torque ramp.  <a href="group___enc_align_ctrl.html#gad1365f95fbdcc6bff57dc481be14f588">More...</a><br /></td></tr>
<tr class="separator:gad1365f95fbdcc6bff57dc481be14f588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf85d759718e8ef3f34a5ac9ee786c8cb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___enc_align_ctrl.html#gaf85d759718e8ef3f34a5ac9ee786c8cb">EAC_Exec</a> (<a class="el" href="struct_enc_align___handle__t.html">EncAlign_Handle_t</a> *pHandle)</td></tr>
<tr class="memdesc:gaf85d759718e8ef3f34a5ac9ee786c8cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">It executes the encoder alignment controller and must be called with a frequency equal to the one settled in the parameters hEACFrequencyHz. Calling this method the EAC is able to verify if the alignment duration has been finished. At the end of alignment the encoder is set to the defined mechanical angle. Note: STC and VSS are not called by EAC_Exec.  <a href="group___enc_align_ctrl.html#gaf85d759718e8ef3f34a5ac9ee786c8cb">More...</a><br /></td></tr>
<tr class="separator:gaf85d759718e8ef3f34a5ac9ee786c8cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1143a87609066b685019db64ec1f9b04"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___enc_align_ctrl.html#ga1143a87609066b685019db64ec1f9b04">EAC_IsAligned</a> (<a class="el" href="struct_enc_align___handle__t.html">EncAlign_Handle_t</a> *pHandle)</td></tr>
<tr class="memdesc:ga1143a87609066b685019db64ec1f9b04"><td class="mdescLeft">&#160;</td><td class="mdescRight">It returns true if the encoder has been aligned at least one time, false if hasn't been never aligned.  <a href="group___enc_align_ctrl.html#ga1143a87609066b685019db64ec1f9b04">More...</a><br /></td></tr>
<tr class="separator:ga1143a87609066b685019db64ec1f9b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9a2606f1df8523c1ffe6cd02419195cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___enc_align_ctrl.html#ga9a2606f1df8523c1ffe6cd02419195cc">EAC_SetRestartState</a> (<a class="el" href="struct_enc_align___handle__t.html">EncAlign_Handle_t</a> *pHandle, bool restart)</td></tr>
<tr class="memdesc:ga9a2606f1df8523c1ffe6cd02419195cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">It sets handler ENCrestart variable according to restart parameter.  <a href="group___enc_align_ctrl.html#ga9a2606f1df8523c1ffe6cd02419195cc">More...</a><br /></td></tr>
<tr class="separator:ga9a2606f1df8523c1ffe6cd02419195cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac50cda01e5c11ca9bcbfb7ed2111d9d2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___enc_align_ctrl.html#gac50cda01e5c11ca9bcbfb7ed2111d9d2">EAC_GetRestartState</a> (<a class="el" href="struct_enc_align___handle__t.html">EncAlign_Handle_t</a> *pHandle)</td></tr>
<tr class="memdesc:gac50cda01e5c11ca9bcbfb7ed2111d9d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if a restart after an encoder alignment has been requested.  <a href="group___enc_align_ctrl.html#gac50cda01e5c11ca9bcbfb7ed2111d9d2">More...</a><br /></td></tr>
<tr class="separator:gac50cda01e5c11ca9bcbfb7ed2111d9d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This file contains all definitions and functions prototypes for the Encoder Alignment Control component of the Motor Control SDK. </p>
<dl class="section author"><dt>Author</dt><dd>Motor Control SDK Team, ST Microelectronics </dd></dl>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<h2><center>&copy; Copyright (c) 2022 STMicroelectronics. All rights reserved.</center></h2>
<p >This software component is licensed by ST under Ultimate Liberty license SLA0044, the "License"; You may not use this file except in compliance with the License. You may obtain a copy of the License at: www.st.com/SLA0044 </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.9.5-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
&copy; 2022, ST Microelectronics &#160;<a href="http://st.com">
<img class="footer" src="ST_logo_footer.png" alt="ST Microelectronics"/>
</a>
</small></address>
</body>
</html>
